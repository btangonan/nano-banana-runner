# Nano Banana Runner Environment Configuration

# ============================================
# GEMINI AI IMAGE ANALYSIS (NEW!)
# ============================================
# To enable AI-powered image analysis instead of basic metadata extraction:

# Provider Selection (choose one):
# - 'sharp': Basic metadata only (FREE, default)
# - 'gemini': AI-powered analysis via Gemini Vision API (COSTS $0.0025/image)
NN_ANALYZE_PROVIDER=gemini

# Gemini API Key (required when NN_ANALYZE_PROVIDER=gemini)
# Use your existing Gemini API key (same as for Gemini 2.5 Flash)
GEMINI_API_KEY=your-gemini-api-key-here

# Gradual Rollout (optional, 0-100)
# Start with a small percentage to test and monitor costs
NN_ANALYZE_ROLLOUT_PERCENT=10  # 10% of images use Gemini, 90% use Sharp

# Cache Settings (reduce API costs)
NN_ANALYZE_CACHE_ENABLED=true
NN_ANALYZE_CACHE_MAX_SIZE=256
NN_ANALYZE_DISK_CACHE=true  # Persist cache between restarts

# ============================================
# BATCH PROCESSING
# ============================================
NN_PROVIDER=batch
BATCH_PROXY_URL=http://127.0.0.1:8787
BATCH_MAX_BYTES=104857600

# ============================================
# GOOGLE CLOUD (Optional Vertex AI Fallback)
# ============================================
# GOOGLE_CLOUD_PROJECT=your-project-id
# GOOGLE_CLOUD_LOCATION=us-central1

# ============================================
# PERFORMANCE & LIMITS
# ============================================
NN_CONCURRENCY=2
NN_MAX_PER_IMAGE=50
ANALYZE_MAX_IMAGES=64
ANALYZE_CHUNK_SIZE=16

# ============================================
# SAFETY & VALIDATION
# ============================================
NN_STYLE_GUARD_ENABLED=true
NN_ANALYZE_KILL_SWITCH=false  # Emergency disable Gemini
JOB_MAX_BYTES=209715200
ITEM_MAX_BYTES=8388608
MAX_IMAGES_PER_JOB=2000

# ============================================
# GUI & PROXY
# ============================================
GUI_PORT=4173
GUI_HOST=127.0.0.1
NN_OUT_DIR=./artifacts

# ============================================
# DIRECT MODE (Advanced Users)
# ============================================
NN_ENABLE_DIRECT_MODE=false
DIRECT_MAX_ROWS=200
DIRECT_MAX_PROMPT_LEN=4000